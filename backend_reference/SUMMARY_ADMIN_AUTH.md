# üéØ –†–ï–ó–Æ–ú–ï - ADMIN –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û –ù–ê FRONTEND:

1. **AdminApp.tsx** - –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π endpoint `/api/admin/login`
2. **api.ts** - –î–æ–±–∞–≤–ª–µ–Ω—ã endpoints –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. **LoginPage.tsx** - –î–æ–±–∞–≤–ª–µ–Ω loading –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
4. **ItemsPage.tsx** - –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
5. **ItemFormModal.tsx** - –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö

---

## üìÅ –ß–¢–û –°–û–ó–î–ê–ù–û –î–õ–Ø BACKEND:

### **–§–∞–π–ª—ã –≤ `/backend_reference/`:**

1. ‚úÖ **`admin-auth.ts`** - –ú–æ–¥—É–ª—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–æ–≤
   - –§—É–Ω–∫—Ü–∏–∏: `loginAdmin`, `validateAdminToken`, `logoutAdmin`, `ensureRootAdmin`
   - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —á–µ—Ä–µ–∑ bcrypt
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

2. ‚úÖ **`database.ts`** (–æ–±–Ω–æ–≤–ª—ë–Ω) - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∞–±–ª–∏—Ü—ã:
   - `admin_users` - –ê–¥–º–∏–Ω—ã (username, password_hash, role, email)
   - `admin_sessions` - –°–µ—Å—Å–∏–∏ –∞–¥–º–∏–Ω–æ–≤ (token, admin_id, expires_at)

3. ‚úÖ **`package.json`** (–æ–±–Ω–æ–≤–ª—ë–Ω) - –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   - `bcrypt: ^5.1.1`
   - `@types/bcrypt: ^5.0.2`

4. ‚úÖ **`ADMIN_AUTH_SETUP.md`** - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–≤—Å–µ endpoints, middleware)

5. ‚úÖ **`QUICK_SETUP_ADMIN.md`** - –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è

---

## üîê DEFAULT CREDENTIALS:

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ backend —Å–æ–∑–¥–∞—Å—Ç root –∞–¥–º–∏–Ω–∞:

```
Username: admin
Password: paztehab255
Role: owner
Email: admin@cyberhub.com
```

---

## üöÄ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –ù–ê VDS:

### **–í–ê–†–ò–ê–ù–¢ 1: –ë—ã—Å—Ç—Ä—ã–π (5 –º–∏–Ω—É—Ç)**

–°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: `/backend_reference/QUICK_SETUP_ADMIN.md`

### **–í–ê–†–ò–ê–ù–¢ 2: –î–µ—Ç–∞–ª—å–Ω—ã–π (10 –º–∏–Ω—É—Ç)**

–°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: `/backend_reference/ADMIN_AUTH_SETUP.md`

---

## üìã –ö–†–ê–¢–ö–ò–ô –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô:

1. **SSH –Ω–∞ VDS:**
   ```bash
   ssh root@91.107.120.48
   cd /root/cyberhub_backend
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å bcrypt:**
   ```bash
   npm install bcrypt @types/bcrypt
   ```

3. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã:**
   - –°–æ–∑–¥–∞—Ç—å `admin-auth.ts` (–∏–∑ `/backend_reference/admin-auth.ts`)
   - –û–±–Ω–æ–≤–∏—Ç—å `database.ts` (–¥–æ–±–∞–≤–∏—Ç—å 2 —Ç–∞–±–ª–∏—Ü—ã)
   - –û–±–Ω–æ–≤–∏—Ç—å `index.ts`:
     - –ò–º–ø–æ—Ä—Ç—ã
     - Middleware (`requireAdminSession`, `requireAdminRole`)
     - Endpoint `/api/admin/login`
     - –ó–∞—â–∏—Ç–∏—Ç—å –≤—Å–µ `/api/admin/*` endpoints
     - –î–æ–±–∞–≤–∏—Ç—å `await ensureRootAdmin(db)` –ø–æ—Å–ª–µ `initDB()`

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker:**
   ```bash
   docker restart cyberhub_api
   docker logs -f cyberhub_api
   ```

5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
   ```
   üîê [AdminAuth] Creating default ROOT admin...
   ‚úÖ [AdminAuth] Root admin created:
      Username: admin
      Password: paztehab255
   ```

6. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   ```bash
   curl -X POST http://91.107.120.48:3000/api/admin/login \
     -H "Content-Type: application/json" \
     -d '{"username": "admin", "password": "paztehab255"}'
   ```

---

## ‚úÖ –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø:

### **Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. –û—Ç–∫—Ä–æ–π –∞–¥–º–∏–Ω–∫—É: `http://localhost:5173/admin`
2. –ó–∞–ª–æ–≥–∏–Ω—å—Å—è:
   - Username: `admin`
   - Password: `paztehab255`
3. –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `localStorage`
4. –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–æ–∫–µ–Ω–æ–º
5. Items/Cases/Requests –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ë–ï–ó –æ—à–∏–±–æ–∫ 401

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢:

- ‚úÖ –ê–¥–º–∏–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –¢–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î (SQLite)
- ‚úÖ –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ bcrypt
- ‚úÖ –í—Å–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ endpoints –∑–∞—â–∏—â–µ–Ω—ã
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ–ª–µ–π (owner/admin/moderator)
- ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å Items/Cases –±–µ–∑ –æ—à–∏–±–æ–∫ 401

---

## üìû –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:

1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Docker: `docker logs -f cyberhub_api`
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ bcrypt —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `npm list bcrypt`
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã: –æ—Ç–∫—Ä–æ–π `cyberhub.db` —á–µ—Ä–µ–∑ sqlite3
4. –ü—Ä–æ–≤–µ—Ä—å Frontend Console (F12) - —Ç–∞–º –≤—Å–µ –ª–æ–≥–∏
5. –ü—Ä–æ–≤–µ—Ä—å Network tab - —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üî• –ì–û–¢–û–í–û!

–ö–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—à—å —à–∞–≥–∏ –Ω–∞ VDS - –Ω–∞–ø–∏—à–∏ –º–Ω–µ, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –≤–º–µ—Å—Ç–µ! üöÄ
